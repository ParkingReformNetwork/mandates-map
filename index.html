<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Parking mandates map | Parking Reform Network</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="See which cities have enacted parking reform to get rid of parking mininums."
    />
    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="website" />
    <meta
      property="og:title"
      content="Parking Reform Map &#x2d; Parking Reform Network"
    />
    <meta
      property="og:description"
      content="See which cities have enacted parking reform to get rid of parking mininums."
    />
    <meta
      property="og:url"
      content="https://parkingreform.org/resources/mandates-map/"
    />
    <meta property="og:site_name" content="Parking Reform Network" />
    <meta
      name="twitter:title"
      content="Parking Reform Map &#x2d; Parking Reform Network"
    />
    <meta
      name="twitter:description"
      content="See which cities have enacted parking reform to get rid of parking mininums."
    />
    <link rel="stylesheet" href="./src/css/style.scss" />
  </head>

  <body>
    <header class="top-header">
      <h1 class="header-title">Parking Mandates Map</h1>
      <nav class="header-icons">
        <button
          class="header-icon-container header-about-icon-container"
          title="about the map"
          aria-expanded="false"
          aria-controls="about-popup"
        >
          <i class="fa-regular fa-circle-question" aria-hidden="true"></i>
          <span class="sr-only">toggle a popup describing the map</span>
        </button>
        <a
          class="header-icon-container header-full-screen-icon-container"
          href="https://parkingreform.org/mandates-map"
          title="view fullscreen"
          target="_blank"
        >
          <i class="fa-solid fa-up-right-from-square" aria-hidden="true"></i>
          <span class="sr-only">view fullscreen (opens in new tab)</span>
        </a>
      </nav>
    </header>

    <section
      id="about-popup"
      class="about-popup"
      aria-label="about the map"
      hidden
    >
      <header class="about-popup-header">
        <h2>About the Parking Mandates Map</h2>
        <button
          class="about-popup-close-icon-container"
          title="close the about popup"
          aria-label="close the about popup"
        >
          <i class="fa-regular fa-circle-xmark" aria-hidden="true"></i>
        </button>
      </header>

      <h3>Instructions</h3>
      <p>
        The map shows places that have enacted parking reforms. Click on one of
        the red dots for additional information about that place's reforms.
      </p>
      <p>
        Click the filter icon in the top-left to change which places are shown,
        such as to filter by population size. By default, the map only shows
        places with all parking requirements removed, which you can toggle with
        the "No parking requirements" toggle in the filter options.
      </p>

      <div role="region" aria-labelledby="about-popup-links-heading">
        <h3 id="about-popup-links-heading">Relevant links</h3>
        <ul class="about-popup-links-list">
          <li>
            <a
              class="external-link"
              href="https://parkingreform.org/resources/mandates-map/"
              >Methodology and key takeaways
              <i aria-hidden="true" class="fa-solid fa-arrow-right"></i
            ></a>
          </li>
          <li>
            <a class="external-link" href="https://forms.gle/PaYXUP5J7YR1Zi6q6"
              >Submit a report
              <i aria-hidden="true" class="fa-solid fa-arrow-right"></i
            ></a>
          </li>
          <li>
            <a
              class="external-link"
              href="https://raw.githubusercontent.com/ParkingReformNetwork/mandates-map/main/map/trimmed_map_data.csv"
              >Download the data set (CSV file)
              <i aria-hidden="true" class="fa-solid fa-arrow-right"></i
            ></a>
          </li>
          <li>
            <a
              class="external-link"
              href="https://parkingreform.org/resources/parking-lot-map"
              >PRN's Parking Lot Map
              <i aria-hidden="true" class="fa-solid fa-arrow-right"></i
            ></a>
          </li>
          <li>
            <a class="external-link" href="https://parkingreform.org/support/"
              >Support this project with a donation
              <i aria-hidden="true" class="fa-solid fa-arrow-right"></i
            ></a>
          </li>
        </ul>
      </div>

      <h3>Acknowledgments</h3>
      <p>
        This project is built and hosted by the
        <a href="https://parkingreform.org/support/">Parking Reform Network</a>.
        It is based on "A Map of Cities That Got Rid of Parking Minimums",
        initially published by
        <a href="https://strongtowns.org" target="_blank">StrongTowns</a> in
        November 2015. Reports have been submitted by many StrongTowns readers
        and Parking Reform Network members over the years; reporters are
        credited on the detailed information pages for each place.
      </p>
      <p>
        The source code is maintained at
        <a href="https://github.com/ParkingReformNetwork/reform-map">GitHub</a>,
        where you can see the code contributors under the "Insights" tab.
      </p>
    </section>

    <div class="city-details-popup">
      <div class="city-details-popup-close-icon">
        <i
          class="fa-solid fa-circle-xmark"
          title="Close city details popup"
        ></i>
      </div>
      <div class="city-details-text"></div>
    </div>
    <div class="open-filter">
      <div class="filters-popup-icon">
        <i class="fa-solid fa-sliders"></i>
      </div>
      <div class="city-counter-container">
        Showing <span id="counter-numerator">0</span> out of
        <span id="counter-denominator">0</span> cities.
      </div>
    </div>
    <div class="filters-popup-container">
      <div class="filters-popup-window">
        <div class="filters-popup-flex">
          <div class="filter no-requirements">
            <div class="no-requirements-container">
              <label class="toggle">
                <span class="toggle-label">No Parking Requirements</span>
                <input
                  type="checkbox"
                  class="toggle-checkbox"
                  id="no-requirements-toggle"
                  checked
                />
                <div class="toggle-switch"></div>
              </label>
            </div>
          </div>
          <div class="filter scope">
            <form>
              <fieldset>
                <legend>Scope of Reform</legend>
                <label
                  ><input type="checkbox" name="scope" checked />Regional</label
                >
                <label
                  ><input type="checkbox" name="scope" checked />Citywide</label
                >
                <!-- ignore lines in which the text may be split up into multiple lines -->
                <!-- prettier-ignore -->
                <label><input type="checkbox" name="scope" checked />City Center/Business District</label>
                <!-- prettier-ignore -->
                <label><input type="checkbox" name="scope" checked />Transit Oriented</label>
                <!-- prettier-ignore -->
                <label><input type="checkbox" name="scope" checked />Main Street/Special</label>
              </fieldset>
            </form>
          </div>

          <div class="filter policy-change">
            <form>
              <fieldset>
                <legend>Policy Change</legend>
                <!-- prettier-ignore -->
                <label><input type="checkbox" name="policy-change"  />Reduce Parking Minimums</label>
                <!-- prettier-ignore -->
                <label><input type="checkbox" name="policy-change" checked />Eliminate Parking Minimums</label>
                <!-- prettier-ignore -->
                <label><input type="checkbox" name="policy-change"  />Parking Maximums</label>
              </fieldset>
            </form>
          </div>

          <div class="filter land-use">
            <form>
              <fieldset>
                <legend>Affected Land Use</legend>
                <!-- prettier-ignore -->
                <label><input type="checkbox" name="land-use" checked />All Uses</label>
                <label
                  ><input
                    type="checkbox"
                    name="land-use"
                    checked
                  />Commercial</label
                >
                <label
                  ><input
                    type="checkbox"
                    name="land-use"
                    checked
                  />Residential</label
                >
              </fieldset>
            </form>
          </div>

          <div class="filter implementation-stage">
            <form>
              <fieldset>
                <legend>Implementation Stage</legend>
                <label
                  ><input
                    type="checkbox"
                    name="implementation-stage"
                    checked
                  />Implemented</label
                >
                <label
                  ><input
                    type="checkbox"
                    name="implementation-stage"
                    checked
                  />Passed</label
                >
                <label
                  ><input
                    type="checkbox"
                    name="implementation-stage"
                  />Planned</label
                >
                <label
                  ><input
                    type="checkbox"
                    name="implementation-stage"
                  />Proposed</label
                >
                <label
                  ><input
                    type="checkbox"
                    name="implementation-stage"
                  />Repealed</label
                >
              </fieldset>
            </form>
          </div>
          <div>
            <span>Population</span>
            <div class="population-slider-container">
              <div class="population-slider-label">
                <span class="population-slider-label-min"></span>
                <span> - </span>
                <span class="population-slider-label-max"></span>
              </div>
              <div class="population-slider-controls">
                <input
                  class="population-slider-left"
                  name="min"
                  type="range"
                  step="0.5"
                  min="0"
                  value="0"
                />
                <input
                  class="population-slider-right"
                  name="max"
                  type="range"
                  step="0.5"
                  min="0"
                />
              </div>
              <div class="population-slider-legend"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <select multiple class="city-search"></select>

    <div class="prn-logo">
      <a
        href="https://parkingreform.org/support/"
        aria-label="Support Parking Reform Network"
        ><img src="./assets/prn-logo.png" alt="Parking Reform Network logo"
      /></a>
    </div>

    <div
      id="map"
      role="application"
      aria-label="interactive map showing cities with parking reforms as clickable dots"
    ></div>
    <script type="module">
      import setUpSite from "./src/js/setUpSite";

      window.onload = async () => {
        await setUpSite();
      };
    </script>
  </body>
</html>
