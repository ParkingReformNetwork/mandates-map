<!doctype html>
<html lang="en">
  <head>
    <title>Parking Mandates Map | Parking Reform Network</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="See which places have enacted parking reform to get rid of parking mininums."
    />
    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="website" />
    <meta
      property="og:title"
      content="Parking Reform Map &#x2d; Parking Reform Network"
    />
    <meta
      property="og:description"
      content="See which places have enacted parking reform to get rid of parking mininums."
    />
    <meta
      property="og:url"
      content="https://parkingreform.org/resources/mandates-map/"
    />
    <meta property="og:site_name" content="Parking Reform Network" />
    <meta
      name="twitter:title"
      content="Parking Reform Map &#x2d; Parking Reform Network"
    />
    <meta
      name="twitter:description"
      content="See which places have enacted parking reform to get rid of parking mininums."
    />
    <link rel="stylesheet" href="./src/css/style.scss" />
  </head>

  <body>
    <header class="top-header">
      <nav class="header-view-toggle">
        <button
          class="header-icon-container header-table-icon-container"
          title="switch to table view"
          aria-label="switch to table view from map view"
        >
          <i class="fa-solid fa-table" aria-hidden="true"></i>
        </button>
        <button
          class="header-icon-container header-map-icon-container"
          title="switch to map view"
          aria-label="switch to map view from table view"
          style="display: none"
        >
          <i class="fa-solid fa-earth-americas" aria-hidden="true"></i>
        </button>
      </nav>
      <nav class="header-control-icons">
        <button
          class="header-icon-container header-filter-icon-container"
          title="open up filter options"
          aria-expanded="false"
          aria-controls="filter-popup"
        >
          <i class="fa-solid fa-sliders" aria-hidden="true"></i>
          <span class="sr-only">open a popup to control filter options</span>
        </button>
        <button
          class="header-icon-container header-search-icon-container"
          title="search for a place"
          aria-expanded="false"
          aria-controls="search-popup"
        >
          <i class="fa-solid fa-magnifying-glass" aria-hidden="true"></i>
          <span class="sr-only"
            >open a popup to search for a specific place</span
          >
        </button>
        <button
          class="header-icon-container header-about-icon-container"
          title="about the map"
          aria-expanded="false"
          aria-controls="about-popup"
        >
          <i class="fa-regular fa-circle-question" aria-hidden="true"></i>
          <span class="sr-only">toggle a popup describing the map</span>
        </button>
        <a
          class="header-icon-container header-full-screen-icon-container"
          href="https://parkingreform.org/mandates-map"
          title="view fullscreen"
          target="_blank"
        >
          <i class="fa-solid fa-up-right-from-square" aria-hidden="true"></i>
          <span class="sr-only">view fullscreen (opens in new tab)</span>
        </a>
      </nav>
    </header>

    <section
      id="about-popup"
      class="about-popup"
      aria-label="about the map"
      hidden
    >
      <header class="about-popup-header">
        <h2>About the Parking Mandates Map</h2>
        <button
          class="about-popup-close-icon-container"
          title="close the about popup"
          aria-label="close the about popup"
        >
          <i class="fa-regular fa-circle-xmark" aria-hidden="true"></i>
        </button>
      </header>

      <h3>Instructions</h3>
      <p>
        The map shows places that have enacted parking reforms. Click on one of
        the red dots for additional information about that place's reforms.
      </p>
      <p>
        Click the filter icon in the top-left to change which places are shown,
        such as to filter by population size. By default, the map only shows
        places with all parking requirements removed, which you can toggle with
        the "No parking requirements" toggle in the filter options.
      </p>

      <div role="region" aria-labelledby="about-popup-links-heading">
        <h3 id="about-popup-links-heading">Relevant links</h3>
        <ul class="about-popup-links-list">
          <li>
            <a
              class="external-link"
              target="_blank"
              href="https://parkingreform.org/resources/mandates-map/"
              >Methodology and key takeaways
              <i aria-hidden="true" class="fa-solid fa-arrow-right"></i
            ></a>
          </li>
          <li>
            <a
              class="external-link"
              target="_blank"
              href="https://forms.gle/PaYXUP5J7YR1Zi6q6"
              >Submit a report
              <i aria-hidden="true" class="fa-solid fa-arrow-right"></i
            ></a>
          </li>
          <li>
            <a
              class="external-link"
              target="_blank"
              href="https://raw.githubusercontent.com/ParkingReformNetwork/mandates-map/main/map/trimmed_map_data.csv"
              >Download the data set (CSV file)
              <i aria-hidden="true" class="fa-solid fa-arrow-right"></i
            ></a>
          </li>
          <li>
            <a
              class="external-link"
              target="_blank"
              href="https://parkingreform.org/resources/parking-lot-map"
              >PRN's Parking Lot Map
              <i aria-hidden="true" class="fa-solid fa-arrow-right"></i
            ></a>
          </li>
          <li>
            <a
              class="external-link"
              target="_blank"
              href="https://parkingreform.org/support/"
              >Support this project with a donation
              <i aria-hidden="true" class="fa-solid fa-arrow-right"></i
            ></a>
          </li>
        </ul>
      </div>

      <h3>Acknowledgments</h3>
      <p>
        This project is built and hosted by the
        <a
          class="external-link"
          target="_blank"
          href="https://parkingreform.org/support/"
          >Parking Reform Network
          <i aria-hidden="true" class="fa-solid fa-arrow-right"></i></a
        >. It is based on "A Map of Cities That Got Rid of Parking Minimums",
        initially published by
        <a
          class="external-link"
          target="_blank"
          href="https://strongtowns.org"
          target="_blank"
          >StrongTowns <i aria-hidden="true" class="fa-solid fa-arrow-right"></i
        ></a>
        in November 2015. Reports have been submitted by many StrongTowns
        readers and Parking Reform Network members over the years; reporters are
        credited on the detailed information pages for each place.
      </p>
      <p>
        The source code is maintained at
        <a
          class="external-link"
          target="_blank"
          href="https://github.com/ParkingReformNetwork/reform-map"
          >GitHub <i aria-hidden="true" class="fa-solid fa-arrow-right"></i></a
        >, where you can see the code contributors under the "Insights" tab.
      </p>
    </section>

    <section
      id="scorecard-container"
      class="scorecard-container"
      role="region"
      hidden
    ></section>

    <section id="map-counter" class="map-counter" role="region"></section>

    <form class="filter-popup" aria-label="filter options" hidden>
      <div class="filter filter-no-requirements-container">
        <label class="toggle">
          <span class="toggle-label">No parking requirements</span>
          <input
            type="checkbox"
            class="toggle-checkbox"
            id="no-requirements-toggle"
          />
          <div class="toggle-switch"></div>
        </label>
      </div>

      <div class="population-slider-outer-container">
        <span>Population</span>
        <div class="population-slider-container">
          <div class="population-slider-label">
            <span class="population-slider-label-min"></span>
            <span> - </span>
            <span class="population-slider-label-max"></span>
          </div>
          <div class="population-slider-controls">
            <input
              class="population-slider-left"
              name="min"
              type="range"
              step="0.5"
              min="0"
              value="0"
            />
            <input
              class="population-slider-right"
              name="max"
              type="range"
              step="0.5"
              min="0"
            />
          </div>
          <div class="population-slider-legend"></div>
        </div>
      </div>

      <button class="filter-accordion-toggle">
        <span class="filter-accordion-title">Policy change (3/3)</span>
        <div class="filter-accordion-icon-container" aria-hidden="true">
          <i
            class="fa-solid fa-chevron-down"
            title="expand additional details"
          ></i>
          <i
            class="fa-solid fa-chevron-up"
            title="collapse additional details"
            style="display: none"
          ></i>
        </div>
      </button>

      <button class="filter-accordion-toggle">
        <span class="filter-accordion-title">Reform scope (5/5)</span>
        <div class="filter-accordion-icon-container" aria-hidden="true">
          <i
            class="fa-solid fa-chevron-down"
            title="expand additional details"
          ></i>
          <i
            class="fa-solid fa-chevron-up"
            title="collapse additional details"
            style="display: none"
          ></i>
        </div>
      </button>

      <button class="filter-accordion-toggle">
        <span class="filter-accordion-title">Affected land use (4/6)</span>
        <div class="filter-accordion-icon-container" aria-hidden="true">
          <i
            class="fa-solid fa-chevron-down"
            title="expand additional details"
          ></i>
          <i
            class="fa-solid fa-chevron-up"
            title="collapse additional details"
            style="display: none"
          ></i>
        </div>
      </button>

      <button class="filter-accordion-toggle">
        <span class="filter-accordion-title">Implementation stage (1/3)</span>
        <div class="filter-accordion-icon-container" aria-hidden="true">
          <i
            class="fa-solid fa-chevron-down"
            title="expand additional details"
          ></i>
          <i
            class="fa-solid fa-chevron-up"
            title="collapse additional details"
            style="display: none"
          ></i>
        </div>
      </button>

      <button class="filter-accordion-toggle">
        <span class="filter-accordion-title">Country (9/9)</span>
        <div class="filter-accordion-icon-container" aria-hidden="true">
          <i
            class="fa-solid fa-chevron-down"
            title="expand additional details"
          ></i>
          <i
            class="fa-solid fa-chevron-up"
            title="collapse additional details"
            style="display: none"
          ></i>
        </div>
      </button>

      <button class="filter-accordion-toggle">
        <span class="filter-accordion-title">Year (11/11)</span>
        <div class="filter-accordion-icon-container" aria-hidden="true">
          <i
            class="fa-solid fa-chevron-down"
            title="expand additional details"
          ></i>
          <i
            class="fa-solid fa-chevron-up"
            title="collapse additional details"
            style="display: none"
          ></i>
        </div>
      </button>
    </form>

    <div id="search-popup" class="search-popup" hidden>
      <select single class="search" aria-label="search for a place">
        <option value="">Search</option>
      </select>
    </div>

    <div class="prn-logo-map">
      <a
        href="https://parkingreform.org/support/"
        target="_blank"
        aria-label="Support Parking Reform Network"
        ><img
          src="./assets/prn-logo-wide.png"
          alt="Parking Reform Network logo"
      /></a>
    </div>

    <div
      id="map"
      role="application"
      aria-label="interactive map showing places with parking reforms as clickable dots"
    ></div>

    <div
      id="table-view"
      role="application"
      aria-label="sortable table showing places selected by the filter and search controls"
      hidden
    >
      <section class="table-counter-container" role="region">
        <p id="table-counter"></p>
        <a
          id="table-logo"
          href="https://parkingreform.org/support/"
          target="_blank"
          aria-label="Support Parking Reform Network"
          ><img
            src="./assets/prn-logo-square.png"
            alt="Parking Reform Network logo"
        /></a>
      </section>
      <div id="table-container">
        <div id="table"></div>
      </div>
    </div>

    <script type="module">
      import initApp from "./src/js/main";

      window.onload = async () => {
        await initApp();
      };
    </script>
  </body>
</html>
